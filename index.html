<!DOCTYPE html><html lang="fr"><head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <meta name="description" content="Calculez l'indice de fragilité de votre region, département et commune"> <title>Indice de fragilité</title> <link rel="stylesheet" type="text/css" href="style.css"/></head><body><header> <h1>INDICE DE FRAGILITÉ</h1> <p> L’indice de fragilité numérique révèle les territoires où la population est le plus à risque d’exclusion. De nombreux facteurs sont à l’origine de l’exclusion numérique. Ils sont regroupés en quatre axes qui constituent les principales causes de l’exclusion numérique. Au sein de chaque axe, on retrouve plusieurs variables utilisées pour le calcul. </p></header><main> <section id="search"> <h2>Recherche dans la liste :</h2> <div class="select-search-list"> <select id="regions" onchange="getRegions();addElement('departements')"> <option default selected>Selectionnez votre région</option> </select> <select id="departements" onchange="getDepartments();addElement('communes')" hidden> <option default selected>Selectionnez votre département</option> </select> <select id="communes" onchange="getCommunes();addElement('generatePdf');" hidden> <option default selected>Selectionnez votre commune</option> </select> </div><h2>Recherche par code postal :</h2> <div class="input-search-postal-code"> <input type="text" id="postalCode" placeholder="Entrez votre code postal"/> <input type="submit" id="validatePostalCode" onclick="searchByPostalCode();addElement('searchCommune')" value="Rechercher par code postal" hidden/> <select id="searchCommune" onchange="getCommune(); addElement('generatePdf')" hidden> </select> </div></section> <p id="descriptionIndiceFragilite" hidden></p><section id="card-parent-information"> </section> <section id="btnPdf" hidden> <input id="generatePdf" type="button" onclick="generatePdf()" value="Créer un PDF"/> </section></main><script type="text/javascript" async src="json/postalCodeJson.js"></script><script type="text/javascript" async src="json/departementsJson.js"></script><script type="text/javascript" src="json/regionJson.js"></script><script type="text/javascript" async src="pdf.min.js"></script><script type="text/javascript" async src="jspdf.min.js"></script><script type="text/javascript" async src="json/communeJson.js"></script><script>const createCardByElement= e=>`\n            <div id="${e}Card" class="card" hidden>\n                <article>\n                    <h2>Nom ${"departement"===e?"du":"de la"} ${e}</h2>\n                    <p></p>\n                </article>\n                <article>\n                    <h2>Indice de fragilité ${"departement"===e?"du":"de la"} ${e}</h2>\n                    <p></p>\n                </article>\n                <article>\n                    <h2>Accès à l'information</h2>\n                    <p></p>\n                </article>\n                <article>\n                    <h2>Accès aux interfaces numériques</h2>\n                    <p></p>\n                </article>\n                <article>\n                    <h2>Capacité d'usage des interfaces numériques</h2>\n                    <p></p>\n                </article>\n                <article>\n                    <h2>Compétences administratives</h2>\n                    <p></p>\n                </article>\n            </div>\n        `;document.getElementById("card-parent-information").insertAdjacentHTML("beforeend",createCardByElement("region")),document.getElementById("card-parent-information").insertAdjacentHTML("beforeend",createCardByElement("departement")),document.getElementById("card-parent-information").insertAdjacentHTML("beforeend",createCardByElement("commune"));const addElement= e=>{document.getElementById(e).style.display="initial"},inputPostalCode=document.getElementById("postalCode");inputPostalCode.addEventListener("keyup", e=>{"Enter"===e.code&&(e.preventDefault(),document.getElementById("validatePostalCode").click())});const regions=document.getElementById("regions");regionJson.forEach(e=>{const n=document.createElement("option");n.value=e.numRegion,n.textContent=e.Nom,regions.appendChild(n)});</script></body></html>